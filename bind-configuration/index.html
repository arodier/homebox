<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="AndrÃ© Rodier">
  
  <title>DNS Server configuration - homebox installation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../css/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "DNS Server configuration";
    var mkdocs_page_input_path = "bind-configuration.md";
    var mkdocs_page_url = "/bind-configuration/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> homebox installation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../features/">Features</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../prerequisites/">Before the installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../preseed/">Debian OS installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Homebox Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../email-configuration/">Email configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../webmail-roundcube/">Roundcube Webmail</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../groupware-sogo/">Sogo Groupware</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../email-access-monitoring/">Email access monitoring</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../antispam-rspamd/">Antispam configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../jabber-configuration/">Jabber configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../gogs-configuration/">Gogs configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../tor-privoxy-configuration/">Tor / privoxy configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../firewall-configuration/">Firewall configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../security-configuration/">Security configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../transmission-configuration/">Transmission configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">DNS Server configuration</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#default-configuration">Default configuration</a></li>
                
            
                <li class="toctree-l3"><a href="#forwarding-queries">Forwarding queries</a></li>
                
            
                <li class="toctree-l3"><a href="#backup-mx-records">Backup MX records</a></li>
                
            
                <li class="toctree-l3"><a href="#trusted-servers">Trusted servers</a></li>
                
            
                <li class="toctree-l3"><a href="#dnssec-extensions">DNSSEC extensions</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../external-accounts/">External accounts</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-home/">Backup your home folders</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-restore/">Backup restoration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../deployment-backup/">Backup your deployment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-server/">Backup server</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../zabbix/">Monitoring with Zabbix</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../maintenance/">Maintenance</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Testing and development</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../codeofconduct/">Code of conduct</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">homebox installation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>DNS Server configuration</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/progmaticltd/homebox/" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="default-configuration">Default configuration</h1>
<p>The default configuration for the DNS server comes with the following options:</p>
<ul>
<li>Installed by default</li>
<li>Forward to google and cloudflare DNS</li>
<li>DNSSEC Not activated by default</li>
</ul>
<p>Default options for the server:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">bind_default</span><span class="p p-Indicator">:</span>
  <span class="c1"># Bind is actually in testing phase, feedback welcome</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="c1"># Default servers to forward queries</span>
  <span class="l l-Scalar l-Scalar-Plain">forward</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">8.8.8.8</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">8.8.4.4</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">1.1.1.1</span>
  <span class="c1"># Actually, reverse IP address creation only works for IPv4</span>
  <span class="c1"># If you are using IPv6, create the reverse IP block here</span>
  <span class="l l-Scalar l-Scalar-Plain">reverse_ip</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">auto</span>
  <span class="c1"># Timing configuration (see https://www.ripe.net/publications/docs/ripe-203)</span>
  <span class="l l-Scalar l-Scalar-Plain">refresh</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">86400</span>          <span class="c1"># 24 hours</span>
  <span class="l l-Scalar l-Scalar-Plain">retry</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">7200</span>             <span class="c1"># 2 hours</span>
  <span class="l l-Scalar l-Scalar-Plain">expire</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3600000</span>         <span class="c1"># 10000 hours</span>
  <span class="l l-Scalar l-Scalar-Plain">neg_cache_ttl</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">172800</span>   <span class="c1"># 2 days</span>
  <span class="l l-Scalar l-Scalar-Plain">ttl</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3600</span>               <span class="c1"># 1 hour</span>
  <span class="c1"># General configuration</span>
  <span class="l l-Scalar l-Scalar-Plain">mx_priority</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">10</span>
  <span class="c1"># List of backup MX records, if the server is unreachable</span>
  <span class="c1"># The default is an empty list</span>
  <span class="l l-Scalar l-Scalar-Plain">mx_backup</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[]</span>
  <span class="c1"># Example of records</span>
  <span class="c1"># mx_backup:</span>
  <span class="c1">#   - fqdn: spool.mail.gandi.net</span>
  <span class="c1">#     priority: 10</span>
  <span class="c1">#   - fqdn: fb.mail.gandi.net</span>
  <span class="c1">#     priority: 50</span>
  <span class="c1"># List of trusted servers to accept cache / recursive queries</span>
  <span class="l l-Scalar l-Scalar-Plain">trusted</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">src</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">192.168.0.0/16</span>
      <span class="l l-Scalar l-Scalar-Plain">comment</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">LAN</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">src</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">localhost</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">src</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">localnets</span>
      <span class="l l-Scalar l-Scalar-Plain">comment</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Local networks</span>
  <span class="c1">#  - src: 72.13.58.64</span>
  <span class="c1">#    comment: https://dnssec-analyzer.verisignlabs.com</span>
  <span class="c1"># DNSSEC options</span>
  <span class="l l-Scalar l-Scalar-Plain">dnssec</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">active</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
    <span class="l l-Scalar l-Scalar-Plain">algo</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">RSASHA256</span>
</pre></div>


<h1 id="forwarding-queries">Forwarding queries</h1>
<p>By default, the Google public DNS servers are used, as well as the one from cloudflare.</p>
<p>More choice here: <a href="https://en.wikipedia.org/wiki/Google_Public_DNS#See_also">Public DNS</a>.</p>
<h1 id="backup-mx-records">Backup MX records</h1>
<p>If your server is not online, for instance due to an internet outage, you can use this option to redirect emails
reception to another server. In this case, the other MTA should be configured to accept emails for your domain.</p>
<p>If you use this option, you will probably consider importing the emails delivered to these &ldquo;backup servers&rdquo;, to your own
server, using the <a href="../external-accounts/">external account</a> functionality.</p>
<h1 id="trusted-servers">Trusted servers</h1>
<p>Enter the list of trusted servers for recursion and cache query.</p>
<h1 id="dnssec-extensions">DNSSEC extensions</h1>
<p>DNSSEC is not activated by default. Be sure your domain name supports it before activating it.</p>
<p>More details on the <a href="https://en.wikipedia.org/wiki/Domain_Name_System_Security_Extensions">Wikipedia page</a></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../external-accounts/" class="btn btn-neutral float-right" title="External accounts">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../transmission-configuration/" class="btn btn-neutral" title="Transmission configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Creative Commons Attribution-ShareAlike 4.0 International License</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/progmaticltd/homebox/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../transmission-configuration/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../external-accounts/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
