<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="AndrÃ© Rodier">
  
  <title>Tor / privoxy configuration - homebox installation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../css/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Tor / privoxy configuration";
    var mkdocs_page_input_path = "tor-privoxy-configuration.md";
    var mkdocs_page_url = "/tor-privoxy-configuration/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> homebox installation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../features/">Features</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../prerequisites/">Before the installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../preseed/">Debian OS installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../installation/">Homebox Installation</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../email-configuration/">Email configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../webmail-roundcube/">Roundcube Webmail</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../groupware-sogo/">Sogo Groupware</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../email-access-monitoring/">Email access monitoring</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../antispam-rspamd/">Antispam configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../jabber-configuration/">Jabber configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../gogs-configuration/">Gogs configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Tor / privoxy configuration</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#minimal-configuration">Minimal configuration</a></li>
                
            
                <li class="toctree-l3"><a href="#privoxy-adblock-lists-synchronisation">Privoxy adblock lists synchronisation</a></li>
                
            
                <li class="toctree-l3"><a href="#other-filter-lists-and-variants">Other filter Lists and variants</a></li>
                
            
                <li class="toctree-l3"><a href="#default-configuration">Default configuration</a></li>
                
            
                <li class="toctree-l3"><a href="#chaining-privoxy-and-tor">Chaining privoxy and Tor</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../firewall-configuration/">Firewall configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../security-configuration/">Security configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../transmission-configuration/">Transmission configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../bind-configuration/">DNS Server configuration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../external-accounts/">External accounts</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-home/">Backup your home folders</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-restore/">Backup restoration</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../deployment-backup/">Backup your deployment</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../backup-server/">Backup server</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../zabbix/">Monitoring with Zabbix</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../maintenance/">Maintenance</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../development/">Testing and development</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../codeofconduct/">Code of conduct</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">homebox installation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Tor / privoxy configuration</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/progmaticltd/homebox/" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>The <em>Onion Router</em> Tor, can be installed, along with <em>Privoxy</em>, in a very simplistic configuration.
Privoxy is a free non-caching web proxy with filtering capabilities for enhancing privacy.</p>
<p>It provides a basic privacy protection, alongside wih some browsers extensions. More information on
this page: <a href="https://restoreprivacy.com/firefox-privacy/">https://restoreprivacy.com/firefox-privacy/</a>.</p>
<p>You may also want to select an alternative search engine like <a href="https://duckduckgo.com/">DuckDuckGo</a>.</p>
<h2 id="minimal-configuration">Minimal configuration</h2>
<div class="codehilite"><pre><span></span><span class="c1"># Secure / Anonymous proxy</span>
<span class="l l-Scalar l-Scalar-Plain">tor</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>

<span class="l l-Scalar l-Scalar-Plain">privoxy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>


<h2 id="privoxy-adblock-lists-synchronisation">Privoxy adblock lists synchronisation</h2>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">privoxy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">tor_forward</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="hll">  <span class="l l-Scalar l-Scalar-Plain">adblock_rules</span><span class="p p-Indicator">:</span>
</span><span class="hll">    <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</span><span class="hll">    <span class="l l-Scalar l-Scalar-Plain">list</span><span class="p p-Indicator">:</span>
</span><span class="hll">      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/easylist.txt</span>
</span><span class="hll">      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/easyprivacy.txt</span>
</span><span class="hll">      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/fanboy-annoyance.txt</span>
</span><span class="hll">      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/fanboy-social.txt</span>
</span><span class="hll">      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist-downloads.adblockplus.org/liste_fr.txt</span>
</span></pre></div>


<p>The privoxy server can be synchronised daily with easylists networks, to protect both your privacy
and your network bandwidth. The default rules are:</p>
<p><strong>EasyList</strong></p>
<p>EasyList is the primary filter list that removes most adverts from international webpages, including
unwanted frames, images and objects. It is the most popular list used by many ad blockers and forms
the basis of over a dozen combination and supplementary filter lists.</p>
<p><strong>EasyPrivacy</strong></p>
<p>EasyPrivacy is an optional supplementary filter list that completely removes all forms of tracking
from the internet, including web bugs, tracking scripts and information collectors, thereby
protecting your personal data.</p>
<p><strong>Fanboy&rsquo;s Annoyance List</strong></p>
<p>Fanboy&rsquo;s Annoyance List blocks Social Media content, in-page pop-ups and other annoyances; thereby
substantially decreasing web page loading times and uncluttering them. Fanboy&rsquo;s Social Blocking List
is already included, there is no need to subscribe to it if you already have Fanboy&rsquo;s Annoyance
List.</p>
<p><strong>Fanboy&rsquo;s Social Blocking List</strong></p>
<p>Fanboy&rsquo;s Social Blocking List solely removes Social Media content on web pages such as the Facebook
like button and other widgets.</p>
<h2 id="other-filter-lists-and-variants">Other filter Lists and variants</h2>
<p>Other lists can be downloaded on the easylist web site: <a href="https://easylist.to/pages/other-supplementary-filter-lists-and-easylist-variants.html">supplementary filter lists and variants
page</a>.</p>
<h2 id="default-configuration">Default configuration</h2>
<p>The configuration actually installed is the default one on Debian, but you can easily customise it using the standard
Tor or Privoxy options. Tor is not accessible externally. Privoxy is listening on port 8118, on the LAN by default.</p>
<div class="codehilite"><pre><span></span><span class="c1"># The onion router</span>
<span class="l l-Scalar l-Scalar-Plain">tor</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">9050</span>
  <span class="l l-Scalar l-Scalar-Plain">accept_from</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">127.0.0.1</span>

<span class="c1"># Privoxy privacy proxy</span>
<span class="l l-Scalar l-Scalar-Plain">privoxy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="l l-Scalar l-Scalar-Plain">tor_forward</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
  <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8118</span>
  <span class="l l-Scalar l-Scalar-Plain">accept_from</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">10.0.0.0/8</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">192.168.0.0/16</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">172.16.0.0/20</span>
  <span class="l l-Scalar l-Scalar-Plain">adblock_rules</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
    <span class="l l-Scalar l-Scalar-Plain">list</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/easylist.txt</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/easyprivacy.txt</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/fanboy-annoyance.txt</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">https://easylist.to/easylist/fanboy-social.txt</span>
<span class="hll">  <span class="l l-Scalar l-Scalar-Plain">custom_settings</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
</span><span class="hll">    <span class="no"># Put anything you want here,</span>
</span><span class="hll">    <span class="no"># even on multiple lines</span>
</span></pre></div>


<h2 id="chaining-privoxy-and-tor">Chaining privoxy and Tor</h2>
<p>It is possible to chain privoxy and tor, to use both proxies at the same time. If you have activated the easyprivacy
list of privoxy, this will give you a good anonymous and privacy filter, even for devices that don&rsquo;t support Tor or
SOCKS proxy natively. For instance:</p>
<div class="codehilite"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">privoxy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">install</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
<span class="hll">  <span class="l l-Scalar l-Scalar-Plain">tor_forward</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</span></pre></div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../firewall-configuration/" class="btn btn-neutral float-right" title="Firewall configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../gogs-configuration/" class="btn btn-neutral" title="Gogs configuration"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Creative Commons Attribution-ShareAlike 4.0 International License</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/progmaticltd/homebox/" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../gogs-configuration/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../firewall-configuration/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
