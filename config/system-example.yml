# HomeBox configuration example.
#
# Copy this file into system.yml, and edit it with the values that suits you
# For a more comprehensive list of settings, see the defaults.yml file.


###############################################################################
# Domain and hostname information
network:
  domain: example.com
  hostname: mail.example.com

###############################################################################
# Users
# List of users to create in the system
users:
- uid: john
  cn: John Doe
  first_name: John
  last_name: Doe
  mail: john.doe@example.com
  aliases:
    - john@homebox.space
- uid: jane
  cn: Jane Doe
  first_name: Jane
  last_name: Doe
  mail: jane.doe@example.com
  aliases:
    - jane@homebox.space

###############################################################################
# Email related default options
# mail:
#   max_attachment_size: 25   # In megabytes
#   autoconfig: true          # Support Thunderbird automatic configuration
#   autodiscover: false       # Support MS Outlook automatic configuration (uses https)
#   quota:
#     default: 1G             # Maximum allowed mailbox size for your users.
#                             # The safe maximum value will be automatically computed in a next version.
#   discard_duplicates: true  # Discard duplicates messages. It is safe, but you can disable if you are worried
#                             # The default timerange is 1h
#   #############################################################################
#   antivirus:                # Check inbound and outbound emails for viruses
#     active: false           # or false. Be careful, you need at least 2GB of memory
#     action: drop            # Action to do when a virus is found in an email: bounce or drop
#                             # be careful, bouncing external emails is a way to expose clamav usage
#     send_warnings: false    # Send a warning email to - internal - users who are sending viruses
#     quarantine: yes         # Place emails with a virus in quarantine, for further analysis
#   #############################################################################
#   impersonate:              # Activate dovecot "master" user feature, ideal for families and communities
#     active: false           # https://wiki2.dovecot.org/Authentication/MasterUsers
#     master: master          # master user name
#     separator: '*'          # Separation char between master user / real user name.
#   #############################################################################
#   # Dovecot / solr FTS (Full Text search)
#   fts:
#     active: true
#     langs:
#       - id: fr
#         name: French
#       - id: en
#         name: English
#   #############################################################################
#   recipient_delimiter: '+'  # The characters you want to use to split email address from mailbox, i.e.:
#                             # when receiving a message to john+lists@example.com, it should go directly to
#                             # the 'lists' folder...
#############################################################################
# Allows you to configure postfix completely
#   postfix_add: |
#     # Send emails to another domain
#     recipient_bcc_maps = regexp:/etc/postfix/recipient_bcc

###############################################################################
# During development, only test certificates are created, using the LetsEncrypt
# staging environment. https://letsencrypt.org/docs/staging-environment/
# Certificates are only backed up locally when system.devel == true.
# If you are testing homebox, don't forget to set this flag to true
# System related
# system:
#   devel: true
#   debug: true

###############################################################################
# Additional certificates and DNS records
#
# extra_certs:
#   - type: files
#     redirect: false
#   - type: openpgpkey
#     redirect: false

# extra_records:
#   - name: backup
#     type: CNAME
#     ttl: 3600
#     value: '{{ network.hostname }}.{{ network.domain }}.'

###############################################################################
# Backup configuration
# You can have multiple backup configuration:
# remote (ssh or samba) and local directory
# All backups will be encrypted
# Compression: See borg documentation

# backup:
#   install: true
#   type: borgbackup
#   locations:

# Exemple 1: backup on the local disk. Useful for small backup only
#   - name: local
#     url: dir:///var/backups/homebox
#     active: yes                      # The backup is currently active
#     frequency: daily                 # Run the backup every day
#     keep_daily: 3                    # Keep the last three days locally
#     compression: lz4                 # Compression scheme to use (lz4 by default)

# Example 2: Backup on a remote location, over SSH
#   - name: router
#     url: ssh://fw.office.pm:/home/backup/homebox
#     active: yes                      # The backup is currently active
#     frequency: daily                 # Run the backup every day
#     keep_daily: 7                    # Keep the last seven days (default value)
#     keep_weekly: 4                   # Keep the last four weeks (default value)
#     keep_monthly: 6                  # Keep the last six months (12 by default)
#     compression: lz4                 # Compression scheme to use (lz4 by default)

# Example 3: Backup on a network NAS mounted via Samba / CIFS
#   - name: nas
#     url: smb://backup:giuwh97kwerr@ftp.office.pm:/home/backup/homebox
#     active: yes                      # The backup is currently active
#     frequency: weekly                # Run the backup every week
#     keep_weekly: 4                   # Keep the last four weeks (default value)
#     keep_monthly: 6                  # Keep the last six months (12 by default)
#     compression: zlib,6              # Compression scheme to use (lz4 by default)

# Exemple 4: Backup on a USB stick labelled as "backup", when inserted or periodically
#   - name: usb-backup
#     url: usb://media/backup/
#     active: yes                      # The backup is currently active
#     frequency: weekly                # Run the backup every week
#     keep_weekly: 4                   # Keep the last four weeks (default value)
#     keep_monthly: 6                  # Keep the last six months (12 by default)
#     compression: zlib,6              # Compression scheme to use (lz4 by default)


###############################################################################
# Dictionaries to install in the system, will be displayed in roundcube for now.
# dictionaries:
#   - name: English
#     id: en
#   - name: French
#     id: fr
#   - name: Spanish
#     id: es


###############################################################################
# Jabber server
# ejabberd:
#   install: true

# sogo:
#   install: true
